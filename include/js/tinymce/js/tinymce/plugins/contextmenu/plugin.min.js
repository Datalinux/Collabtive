!function(){var e=function(a){var b=a;return{get:function(){return b},set:function(a){b=a},clone:function(){return e(b)}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),p=function(a){return{isContextMenuVisible:function(){return a.get()}}},h=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),k=function(a){return h.DOM.select(a.settings.ui_container)[0]},m=function(a,b){if(a&&"static"!==h.DOM.getStyle(a,"position",!0)){var c=h.DOM.getPos(a);return{x:b.x+-(c.x-a.scrollLeft),y:b.y+-(c.y-a.scrollTop)}}return{x:b.x+
0,y:b.y+0}},q=tinymce.util.Tools.resolve("tinymce.ui.Factory"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),t=function(a,b,c,d){null===d.get()?d.set(function(a,d){var b,c,f=[];c=a.getParam("contextmenu","link openlink image inserttable | cell row column deletetable");r.each(c.split(/[ ,]/),function(b){var c=a.menuItems[b];"|"===b&&(c={text:b});c&&(c.shortcut="",f.push(c))});for(c=0;c<f.length;c++)"|"===f[c].text&&(0!==c&&c!==f.length-1||f.splice(c,1));return(b=q.create("menu",{items:f,context:"contextmenu",
classes:"contextmenu"})).uiContainer=k(a),b.renderTo(k(a)),b.on("hide",function(a){a.control===this&&d.set(!1)}),a.on("remove",function(){b.remove();b=null}),b}(a,c)):d.get().show();d.get().moveTo(b.x,b.y);c.set(!0)},u=function(a,b,c){a.on("contextmenu",function(d){if(!d.ctrlKey||a.settings.contextmenu_never_use_native){d.preventDefault();if(a.inline){var e=k(a);d=(g=d).pageX;d=m(e,{x:d,y:g.pageY})}else{var l,g;d=(e=a.getContentAreaContainer(),g={x:d.clientX,y:d.clientY},l=h.DOM.getPos(e),{x:g.x+
l.x,y:g.y+l.y});d=m(k(a),d)}t(a,d,b,c)}})};n.add("contextmenu",function(a){var b=e(null),c=e(!1);return u(a,c,b),p(c)})}();
