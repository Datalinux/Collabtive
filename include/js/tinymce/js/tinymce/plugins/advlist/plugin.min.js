!function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),h=tinymce.util.Tools.resolve("tinymce.util.Tools"),k=function(a,b,c){a.execCommand("UL"===b?"InsertUnorderedList":"InsertOrderedList",!1,!1===c?null:{"list-style-type":c})},p=function(a){a.addCommand("ApplyUnorderedListStyle",function(b,c){k(a,"UL",c["list-style-type"])});a.addCommand("ApplyOrderedListStyle",function(b,c){k(a,"OL",c["list-style-type"])})},q=function(a){return function(b){return b&&/^(OL|UL|DL)$/.test(b.nodeName)&&
(e=b,(c=a).$.contains(c.getBody(),e));var c,e}},r=function(a){var b=a.dom.getParent(a.selection.getNode(),"ol,ul");return a.dom.getStyle(b,"listStyleType")||""},t=function(a){return h.map(a,function(a){return{text:a.replace(/\-/g," ").replace(/\b\w/g,function(a){return a.toUpperCase()}),data:"default"===a?"":a}})},l=function(a,b){return function(c){var e=c.control;a.on("NodeChange",function(c){var d;a:{d=c.parents;for(var g=0;g<d.length;g++){var f=d[g];if(f&&/^(TH|TD)$/.test(f.nodeName)){d=g;break a}}d=
-1}c=-1!==d?c.parents.slice(0,d):c.parents;c=h.grep(c,q(a));e.active(0<c.length&&c[0].nodeName===b)})}},u=function(a,b,c,e,f,d){a.addButton(b,{active:!1,type:"splitbutton",tooltip:c,menu:t(d),onPostRender:l(a,f),onshow:function(b){var c=r(a);b.control.items().each(function(a){a.active(a.settings.data===c)})},onselect:function(b){k(a,f,b.control.settings.data)},onclick:function(){a.execCommand(e)}})},m=function(a,b,c,e,f,d){0<d.length?u(a,b,c,e,f,d):a.addButton(b,{active:!1,type:"button",tooltip:c,
onPostRender:l(a,f),onclick:function(){a.execCommand(e)}})};n.add("advlist",function(a){if(-1!==h.inArray((a.settings.plugins?a.settings.plugins:"").split(/[ ,]/),"lists")){var b;b=(b=a.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"))?b.split(/[ ,]/):[];m(a,"numlist","Numbered list","InsertOrderedList","OL",b);b=(b=a.getParam("advlist_bullet_styles","default,circle,disc,square"))?b.split(/[ ,]/):[];m(a,"bullist","Bullet list","InsertUnorderedList",
"UL",b);p(a)}})}();
