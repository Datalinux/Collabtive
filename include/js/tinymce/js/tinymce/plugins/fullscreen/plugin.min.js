!function(){var g=function(a){var b=a;return{get:function(){return b},set:function(a){b=a},clone:function(){return g(b)}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),h=function(a){return{isFullscreen:function(){return null!==a.get()}}},q=function(a,b){a.fire("FullscreenStateChanged",{state:b})},e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils").DOM,t=function(a,b){var c,l,n,f,p,g=document.body,h=document.documentElement,d=b.get(),m=function(){var a,b,c,d;e.setStyle(n,"height",(c=window,
d=document.body,d.offsetWidth&&(a=d.offsetWidth,b=d.offsetHeight),c.innerWidth&&c.innerHeight&&(a=c.innerWidth,b=c.innerHeight),{w:a,h:b}).h-(l.clientHeight-n.clientHeight))},k=function(){e.unbind(window,"resize",m)};(c=(l=a.getContainer()).style,f=(n=a.getContentAreaContainer().firstChild).style,d)?(f.width=d.iframeWidth,f.height=d.iframeHeight,d.containerWidth&&(c.width=d.containerWidth),d.containerHeight&&(c.height=d.containerHeight),e.removeClass(g,"mce-fullscreen"),e.removeClass(h,"mce-fullscreen"),
e.removeClass(l,"mce-fullscreen"),c=d.scrollPos,window.scrollTo(c.x,c.y),e.unbind(window,"resize",d.resizeHandler),a.off("remove",d.removeHandler),b.set(null),q(a,!1)):(d={scrollPos:(p=e.getViewPort(),{x:p.x,y:p.y}),containerWidth:c.width,containerHeight:c.height,iframeWidth:f.width,iframeHeight:f.height,resizeHandler:m,removeHandler:k},f.width=f.height="100%",c.width=c.height="",e.addClass(g,"mce-fullscreen"),e.addClass(h,"mce-fullscreen"),e.addClass(l,"mce-fullscreen"),e.bind(window,"resize",m),
a.on("remove",k),m(),b.set(d),q(a,!0))},u=function(a,b){a.addCommand("mceFullScreen",function(){t(a,b)})},k=function(a){return function(b){var c=b.control;a.on("FullscreenStateChanged",function(a){c.active(a.state)})}};r.add("fullscreen",function(a){var b=g(null);a.settings.inline?a=h(b):(u(a,b),a.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:k(a),context:"view"}),a.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",
onPostRender:k(a)}),a=(a.addShortcut("Ctrl+Shift+F","","mceFullScreen"),h(b)));return a})}();
