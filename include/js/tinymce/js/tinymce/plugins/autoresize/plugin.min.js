!function(){var k=function(a){var b=a;return{get:function(){return b},set:function(a){b=a},clone:function(){return k(b)}}},u=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),v=tinymce.util.Tools.resolve("tinymce.util.Delay"),q=function(a){return parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),10)},f=function(a,b,h,d,c){v.setEditorTimeout(a,function(){m(a,b);h--?f(a,b,h,d,c):c&&c()},d)},p=function(a,b){(a=a.getBody())&&(a.style.overflowY=
b?"":"hidden",b||(a.scrollTop=0))},m=function(a,b){var h,d,c,e,f,k,l,r,t,g=a.dom;if(d=a.getDoc())(c=a).plugins.fullscreen&&c.plugins.fullscreen.isFullscreen()?p(a,!0):(c=d.body,d=q(a),e=g.getStyle(c,"margin-top",!0),f=g.getStyle(c,"margin-bottom",!0),k=g.getStyle(c,"padding-top",!0),l=g.getStyle(c,"padding-bottom",!0),r=g.getStyle(c,"border-top-width",!0),t=g.getStyle(c,"border-bottom-width",!0),e=c.offsetHeight+parseInt(e,10)+parseInt(f,10)+parseInt(k,10)+parseInt(l,10)+parseInt(r,10)+parseInt(t,
10),(isNaN(e)||0>=e)&&(e=n.ie?c.scrollHeight:n.webkit&&0===c.clientHeight?0:c.offsetHeight),e>q(a)&&(d=e),(c=parseInt(a.getParam("autoresize_max_height",0),10))&&e>c?(d=c,p(a,!0)):p(a,!1),d!==b.get()&&(h=d-b.get(),g.setStyle(a.iframeElement,"height",d+"px"),b.set(d),n.webkit&&0>h&&m(a,b)))},l={setup:function(a,b){a.on("init",function(){var b,d,c=a.dom;b=a.getParam("autoresize_overflow_padding",1);d=a.getParam("autoresize_bottom_margin",50);!1!==b&&c.setStyles(a.getBody(),{paddingLeft:b,paddingRight:b});
!1!==d&&c.setStyles(a.getBody(),{paddingBottom:d})});a.on("nodechange setcontent keyup FullscreenStateChanged",function(f){m(a,b)});a.getParam("autoresize_on_init",!0)&&a.on("init",function(){f(a,b,20,100,function(){f(a,b,5,1E3)})})},resize:m},w=function(a,b){a.addCommand("mceAutoResize",function(){l.resize(a,b)})};u.add("autoresize",function(a){if(!a.inline){var b=k(0);w(a,b);l.setup(a,b)}})}();
