!function(){var p=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.util.Tools"),m=function(a){return a.getParam("noneditable_noneditable_class","mceNonEditable")},q=function(a){return(a=a.getParam("noneditable_regexp",[]))&&a.constructor===RegExp?[a]:a},n=function(a){return function(f){return-1!==(" "+f.attr("class")+" ").indexOf(a)}},r=function(a,f,h){return function(g){var d=arguments,e=d[d.length-2],c=0<e?f.charAt(e-1):"";return'"'===c||">"===c&&(c=f.lastIndexOf("<",
e),-1!==c&&-1!==f.substring(c,e).indexOf('contenteditable="false"'))?g:'<span class="'+h+'" data-mce-content="'+a.dom.encode(d[0])+'">'+a.dom.encode("string"==typeof d[1]?d[1]:d[0])+"</span>"}},t=function(a){var f,h;f=" "+l.trim(a.getParam("noneditable_editable_class","mceEditable"))+" ";h=" "+l.trim(m(a))+" ";var g=n(f),d=n(h),e=q(a);a.on("PreInit",function(){0<e.length&&a.on("BeforeSetContent",function(c){var b=e.length,k=c.content;if("raw"!==c.format){for(;b--;)k=k.replace(e[b],r(a,k,m(a)));c.content=
k}!0});a.parser.addAttributeFilter("class",function(a){for(var b,c=a.length;c--;)b=a[c],g(b)?b.attr("contenteditable","true"):d(b)&&b.attr("contenteditable","false")});a.serializer.addAttributeFilter("contenteditable",function(a){for(var b,c=a.length;c--;)b=a[c],(g(b)||d(b))&&(0<e.length&&b.attr("data-mce-content")?(b.name="#text",b.type=3,b.raw=!0,b.value=b.attr("data-mce-content")):b.attr("contenteditable",null))})})};p.add("noneditable",function(a){t(a)})}();
