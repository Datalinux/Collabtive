function updateCalendar(a,b,c){var g=a.$get("url");Vue.set(a,"url",g+"&y="+c+"&m="+b);updateView(a)}function formSubmited(){blindtoggle("form_addmyproject");toggleClass("sm_deskprojects","smooth","nosmooth");toggleClass("add_butn_myprojects","butn_link_active","butn_link")}
function initializeBlockaccordeon(){for(var a=document.querySelectorAll("#block_index > div .headline > a"),b=0;b<a.length;b++){var c=a[b].getAttribute("id");blockIds.push(c);readCookie("activeSlideIndex");c=a[b].getAttribute("onclick");c+="activateAccordeon("+b+");";a[b].setAttribute("onclick",c)}activateAccordeon(0)}openSlide=0;blockIds=[];function activateAccordeon(a){accordIndex.toggle(document.querySelectorAll("#block_index .blockaccordion_content")[a]);setCookie("activeSlideIndex",a)}
var accordIndex=new accordion2("block_index",{classNames:{toggle:"win_none",toggleActive:"win_block",content:"blockaccordion_content"}});
function renderMilestoneTree(a,b){b=void 0===b?"milestoneTree":b;a=a.items;if(void 0!=a)for(var c=0;c<a.length;c++){var g=a[c].ID,h=a[c].milestones,e=new dTree(b+g);e.add(0,-1,"");e.add("ml"+h.ID,0,h.name,"#","","","templates/standard/theme/standard/images/symbols/milestone.png","templates/standard/theme/standard/images/symbols/milestone.png",!0);var f=h.tasklists;if(void 0!=f){for(var l=0;l<f.length;l++){var d=f[l],k=d.tasks;e.add("tl"+d.ID,"ml"+h.ID,d.name,"managetasklist.php?action=showtasklist&id="+
d.project+"&tlid="+d.ID,"","","templates/standard/theme/standard/images/symbols/tasklist.png","templates/standard/theme/standard/images/symbols/tasklist.png",!0);if(0<k.length)for(d=0;d<k.length;d++)e.add("ta"+k[d].ID,"tl"+k[d].liste,k[d].title,"managetask.php?action=showtask&tid="+k[d].ID+"&id="+k[d].project,"","","templates/standard/theme/standard/images/symbols/task.png","templates/standard/theme/standard/images/symbols/task.png","",k[d].daysleft)}cssId(b+g).innerHTML=e;window[b+g]=e}}}
function renderFilesTree(a,b){a=a.items;void 0!=a&&renderFiles(a,void 0===b?"filesTree":b)}
function renderFiles(a,b){for(var c=0;c<a.length;c++){var g=a[c].ID,h=new dTree(b+g);h.add(0,-1,"");if(a[c].hasFiles){for(var e=a[c].files,f=0;f<e.length;f++)h.add("fi"+e[f].ID,0,e[f].title,"managefile.php?action=downloadfile&amp;id="+e[f].project+"&amp;file="+e[f].ID,"","","templates/standard/theme/standard/images/symbols/files.png","templates/standard/theme/standard/images/symbols/files.png","",0);cssId(b+g).innerHTML=h;window[b+g]=h}}}
function renderProjectTree(a,b){b=void 0===b?"projectTree":b;var c=a.items.open;console.log(c,a.items);c&&renderFiles(c,b)}
var projectsViewDependencies=[],projects={el:"desktopprojects",url:"index.php?action=myprojects",itemType:"project",dependencies:[]},tasks={el:"desktoptasks",itemType:"task",url:"index.php?action=mytasks",dependencies:[]},messages={el:"desktopmessages",itemType:"message",url:"index.php?action=mymessages",dependencies:[]},desktopCalendar={el:"desktopCalendar",itemType:"calendar",url:"manageajax.php?action=indexCalendar",dependencies:[]},projectsView=createView(projects),calendarView=createView(desktopCalendar),
addProjectForm=document.getElementById("addprojectform"),formView=projectsView;addProjectForm.addEventListener("submit",submitForm.bind(formView));projectsView.afterLoad(initializeBlockaccordeon);var accord_projects;projectsView.afterUpdate(function(){accord_projects=new accordion2("desktopprojects");renderProjectTree(projectsView,"projectTree")});
