function updateCalendar(a,b,c){var d=a.$get("url");Vue.set(a,"url",d+"&y="+c+"&m="+b);updateView(a)}function formSubmited(){blindtoggle("form_addmyproject");toggleClass("sm_deskprojects","smooth","nosmooth");toggleClass("add_butn_myprojects","butn_link_active","butn_link")}
function initializeBlockaccordeon(){for(var a=document.querySelectorAll("#block_index > div .headline > a"),b=0;b<a.length;b++){var c=a[b].getAttribute("id");blockIds.push(c);readCookie("activeSlideIndex");c=a[b].getAttribute("onclick");c+="activateAccordeon("+b+");";a[b].setAttribute("onclick",c)}activateAccordeon(0)}openSlide=0;blockIds=[];function activateAccordeon(a){accordIndex.toggle(document.querySelectorAll("#block_index .blockaccordion_content")[a]);setCookie("activeSlideIndex",a)}
var accordIndex=new accordion2("block_index",{classNames:{toggle:"win_none",toggleActive:"win_block",content:"blockaccordion_content"}}),projects={el:"desktopprojects",url:"index.php?action=myprojects",itemType:"project",sortBy:"projekt",sortDirection:"DESC",dependencies:[]},tasks={el:"desktoptasks",itemType:"task",url:"index.php?action=mytasks",dependencies:[]},messages={el:"desktopmessages",itemType:"message",url:"index.php?action=mymessages",dependencies:[]},desktopCalendar={el:"desktopCalendar",
itemType:"calendar",url:"manageajax.php?action=indexCalendar",dependencies:[]},calendarView,tasksView,accord_tasks,messagesView,accord_msgs;
function initialiseView(a){"tasks"==a&&(tasksView?(tasksView.update(),activateAccordeon(1)):(tasksView=createView(tasks),tasksView.afterLoad(function(){activateAccordeon(1)}),tasksView.afterUpdate(function(){accord_tasks=new accordion2("desktoptasks")})));"calendar"==a&&(calendarView?(calendarView.update(),activateAccordeon(2)):(calendarView=createView(desktopCalendar),calendarView.afterLoad(function(){activateAccordeon(2)})));"messages"==a&&(messagesView?(messagesView.update(),activateAccordeon(3)):
(messagesView=createView(messages),messagesView.afterLoad(function(){activateAccordeon(3)}),messagesView.afterUpdate(function(){accord_msgs=new accordion2("desktopmessages")})))}var projectsViewDependencies=[],projectsView=createView(projects);calendarView=createView(desktopCalendar);var addProjectForm=document.getElementById("addprojectform"),formView=projectsView;addProjectForm.addEventListener("submit",submitForm.bind(formView));projectsView.afterLoad(initializeBlockaccordeon);var accord_projects;
projectsView.afterUpdate(function(){accord_projects=new accordion2("desktopprojects");createUsersTree(projectsView)});
