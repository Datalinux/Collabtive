function updateCalendar(a,b,c){var h=a.$get("url");Vue.set(a,"url",h+"&y="+c+"&m="+b);updateView(a)}function formSubmited(){blindtoggle("form_addmyproject");toggleClass("sm_deskprojects","smooth","nosmooth");toggleClass("add_butn_myprojects","butn_link_active","butn_link")}
function initializeBlockaccordeon(){for(var a=document.querySelectorAll("#block_index > div .headline > a"),b=0;b<a.length;b++){var c=a[b].getAttribute("id");blockIds.push(c);readCookie("activeSlideIndex");c=a[b].getAttribute("onclick");c+="activateAccordeon("+b+");";a[b].setAttribute("onclick",c)}activateAccordeon(0)}openSlide=0;blockIds=[];function activateAccordeon(a){accordIndex.toggle(document.querySelectorAll("#block_index .blockaccordion_content")[a]);setCookie("activeSlideIndex",a)}
var accordIndex=new accordion2("block_index",{classNames:{toggle:"win_none",toggleActive:"win_block",content:"blockaccordion_content"}});
function renderMilestones(a,b){for(var c=0;c<a.length;c++){var h=a[c].ID,f=a[c].milestones,d=new dTree(b+h);d.add(0,-1,"");d.add("ml"+f.ID,0,f.name,"#","","","templates/standard/theme/standard/images/symbols/milestone.png","templates/standard/theme/standard/images/symbols/milestone.png",!0);var e=f.tasklists;if(void 0!=e){for(var l=0;l<e.length;l++){var g=e[l],k=g.tasks;d.add("tl"+g.ID,"ml"+f.ID,g.name,"managetasklist.php?action=showtasklist&id="+g.project+"&tlid="+g.ID,"","","templates/standard/theme/standard/images/symbols/tasklist.png",
"templates/standard/theme/standard/images/symbols/tasklist.png",!0);if(0<k.length)for(g=0;g<k.length;g++)d.add("ta"+k[g].ID,"tl"+k[g].liste,k[g].title,"managetask.php?action=showtask&tid="+k[g].ID+"&id="+k[g].project,"","","templates/standard/theme/standard/images/symbols/task.png","templates/standard/theme/standard/images/symbols/task.png","",k[g].daysleft)}cssId(b+h).innerHTML=d;window[b+h]=d}}}function createMilestonesTree(a,b){(a=a.items)&&renderMilestones(a,void 0===b?"milestoneTree":b)}
function renderFiles(a,b){for(var c=0;c<a.length;c++){var h=a[c].ID,f=new dTree(b+h);f.add(0,-1,"");if(a[c].hasFiles){for(var d=a[c].files,e=0;e<d.length;e++)f.add("fi"+d[e].ID,0,d[e].title,"managefile.php?action=downloadfile&amp;id="+d[e].project+"&amp;file="+d[e].ID,"","","templates/standard/theme/standard/images/symbols/files.png","templates/standard/theme/standard/images/symbols/files.png","",0);cssId(b+h).innerHTML=f;window[b+h]=f}}}
function createFilesTree(a,b){a=a.items;void 0!=a&&renderFiles(a,void 0===b?"filesTree":b)}function renderUsers(a,b){for(var c=0;c<a.length;c++){var h=a[c].ID,f=new dTree(b+h);f.add(0,-1,"");for(var d=a[c].members,e=0;e<d.length;e++)f.add("us"+d[e].ID,0,d[e].name,"manageuser.php?action=profile&amp;id="+d[e].ID,"","","templates/standard/theme/standard/images/symbols/user.png","templates/standard/theme/standard/images/symbols/user.png","",0);cssId(b+h).innerHTML=f;window[b+h]=f}}
function createUsersTree(a,b){a.items.open&&renderUsers(a.items.open,void 0===b?"usersTree":b)}
var projectsViewDependencies=[],projects={el:"desktopprojects",url:"index.php?action=myprojects",itemType:"project",dependencies:[]},tasks={el:"desktoptasks",itemType:"task",url:"index.php?action=mytasks",dependencies:[]},messages={el:"desktopmessages",itemType:"message",url:"index.php?action=mymessages",dependencies:[]},desktopCalendar={el:"desktopCalendar",itemType:"calendar",url:"manageajax.php?action=indexCalendar",dependencies:[]},projectsView=createView(projects),calendarView=createView(desktopCalendar),
addProjectForm=document.getElementById("addprojectform"),formView=projectsView;addProjectForm.addEventListener("submit",submitForm.bind(formView));projectsView.afterLoad(initializeBlockaccordeon);var accord_projects;projectsView.afterUpdate(function(){accord_projects=new accordion2("desktopprojects");createUsersTree(projectsView)});
